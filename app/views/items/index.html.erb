<%= provide(:title, t('.Collect_Items')) %>

<h1><%= t('.Collect_Items') %></h1>

<table class="table table-hover">
  <thead>
    <tr>
      <th><%= t('.Item_number') %></th>
      <th><%= t('.Description') %></th>
      <th><%= t('.Size') %></th>
      <th><%= t('.Price') %></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @items.each do |item| %>
      <tr>
        <td><%= item.item_number %></td>
        <td><%= mark_alert_terms(truncate(item.description, length: 40)) %></td>
        <td><%= truncate(item.size, length: 10) %></td>
        <td><%= number_to_currency item.price %></td>
        <td><%= link_to t('.Show'), 
                user_list_item_path(@user, @list, item),
                id: "show_item_#{item.item_number}"%></td>
        <td><%= link_to t('.Edit'), 
                edit_user_list_item_path(@user, @list, item),
                id: "edit_item_#{item.item_number}"%></td>
        <td><%= link_to t('.Destroy'), [@user, @list, item], 
                id: "destroy_item_#{item.item_number}", 
                method: :delete, 
                data: { confirm: t('.confirm') } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<% if @list.max_items_per_list? %>
  <div class="alert">
    <%= t('.max_items_per_list') %>
  </div>
<% else %>
  <%= link_to t('.Create_New_Item'), new_user_list_item_path(@user, @list), 
              class: "btn btn-primary" %> 
<% end %>

<br/><br/>

<%= link_to t('.Back'), @user %>

